{"name":"Lean.Server.Requests","instances":[{"typeNames":["Lean.Server.RequestError"],"name":"Lean.Server.instInhabitedRequestError","className":"Inhabited"},{"typeNames":["IO","Lean.Server.RequestM"],"name":"Lean.Server.instMonadLiftIORequestM","className":"MonadLift"},{"typeNames":["EIO","Lean.Exception","Lean.Server.RequestM"],"name":"Lean.Server.instMonadLiftEIOExceptionRequestM","className":"MonadLift"}],"imports":["Init","Lean.DeclarationRange","Lean.Data.Json","Lean.Data.Lsp","Lean.Elab.Command","Lean.Server.FileSource","Lean.Server.FileWorker.Utils","Lean.Server.Rpc.Basic"],"declarations":[{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L255-L260","name":"Lean.Server.handleLspRequest","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.handleLspRequest","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L250-L253","name":"Lean.Server.routeLspRequest","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.routeLspRequest","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L231-L248","name":"Lean.Server.chainLspRequestHandler","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.chainLspRequestHandler","doc":"NB: This method may only be called in `initialize` blocks (user or builtin).\n\nRegister another handler to invoke after the last one registered for a method.\nAt least one handler for the method must have already been registered to perform\nchaining.\n\nFor more details on the registration of a handler, see `registerLspRequestHandler`. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L221-L222","name":"Lean.Server.lookupLspRequestHandler","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.lookupLspRequestHandler","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L204-L219","name":"Lean.Server.registerLspRequestHandler","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.registerLspRequestHandler","doc":"NB: This method may only be called in `initialize` blocks (user or builtin).\n\nA registration consists of:\n- a type of JSON-parsable request data `paramType`\n- a `FileSource` instance for it so the system knows where to route requests\n- a type of JSON-serializable response data `respType`\n- an actual `handler` which runs in the `RequestM` monad and is expected\n  to produce an asynchronous `RequestTask` which does any waiting/computation\n\nA handler task may be cancelled at any time, so it should check the cancellation token when possible\nto handle this cooperatively. Any exceptions thrown in a request handler will be reported to the client\nas LSP error responses. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L189-L190","name":"Lean.Server.requestHandlers","kind":"opaque","docLink":"./Lean/Server/Requests.html#Lean.Server.requestHandlers","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L187-L187","name":"Lean.Server.RequestHandler.handle","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestHandler.handle","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L186-L186","name":"Lean.Server.RequestHandler.fileSource","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestHandler.fileSource","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L185-L187","name":"Lean.Server.RequestHandler","kind":"structure","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestHandler","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L167-L171","name":"Lean.Server.RequestM.runTermElabM","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestM.runTermElabM","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L160-L164","name":"Lean.Server.RequestM.runCoreM","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestM.runCoreM","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L154-L158","name":"Lean.Server.RequestM.runCommandElabM","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestM.runCommandElabM","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L143-L151","name":"Lean.Server.RequestM.withWaitFindSnapAtPos","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestM.withWaitFindSnapAtPos","doc":"Create a task which waits for the snapshot containing `lspPos` and executes `f` with it.\nIf no such snapshot exists, the request fails with an error. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L133-L139","name":"Lean.Server.RequestM.bindWaitFindSnap","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestM.bindWaitFindSnap","doc":"See `withWaitFindSnap`. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L124-L130","name":"Lean.Server.RequestM.withWaitFindSnap","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestM.withWaitFindSnap","doc":"Create a task which waits for the first snapshot matching `p`, handles various errors,\nand if a matching snapshot was found executes `x` with it. If not found, the task executes\n`notFoundX`. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L110-L119","name":"Lean.Server.RequestM.waitFindSnapAux","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestM.waitFindSnapAux","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L106-L108","name":"Lean.Server.RequestM.bindTask","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestM.bindTask","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L101-L104","name":"Lean.Server.RequestM.mapTask","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestM.mapTask","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L96-L99","name":"Lean.Server.RequestM.asTask","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestM.asTask","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L92-L94","name":"Lean.Server.RequestM.readDoc","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestM.readDoc","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L82-L86","name":"Lean.Server.instMonadLiftEIOExceptionRequestM","kind":"instance","docLink":"./Lean/Server/Requests.html#Lean.Server.instMonadLiftEIOExceptionRequestM","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L76-L80","name":"Lean.Server.instMonadLiftIORequestM","kind":"instance","docLink":"./Lean/Server/Requests.html#Lean.Server.instMonadLiftIORequestM","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L74-L74","name":"Lean.Server.RequestTask.pure","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestTask.pure","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L72-L72","name":"Lean.Server.RequestM","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestM","doc":"Workers execute request handlers in this monad. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L70-L70","name":"Lean.Server.RequestT","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestT","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L69-L69","name":"Lean.Server.RequestTask","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestTask","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L67-L67","name":"Lean.Server.RequestContext.initParams","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestContext.initParams","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L66-L66","name":"Lean.Server.RequestContext.hOut","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestContext.hOut","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L65-L65","name":"Lean.Server.RequestContext.hLog","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestContext.hLog","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L64-L64","name":"Lean.Server.RequestContext.doc","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestContext.doc","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L63-L63","name":"Lean.Server.RequestContext.srcSearchPath","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestContext.srcSearchPath","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L62-L62","name":"Lean.Server.RequestContext.rpcSessions","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestContext.rpcSessions","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L61-L67","name":"Lean.Server.RequestContext","kind":"structure","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestContext","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L55-L59","name":"Lean.Server.parseRequestParams","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.parseRequestParams","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L48-L51","name":"Lean.Server.RequestError.toLspResponseError","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestError.toLspResponseError","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L45-L46","name":"Lean.Server.RequestError.ofIoError","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestError.ofIoError","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L42-L43","name":"Lean.Server.RequestError.ofException","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestError.ofException","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L39-L40","name":"Lean.Server.RequestError.internalError","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestError.internalError","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L36-L37","name":"Lean.Server.RequestError.invalidParams","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestError.invalidParams","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L32-L34","name":"Lean.Server.RequestError.methodNotFound","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestError.methodNotFound","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L28-L30","name":"Lean.Server.RequestError.fileChanged","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestError.fileChanged","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L23-L23","name":"Lean.Server.instInhabitedRequestError","kind":"instance","docLink":"./Lean/Server/Requests.html#Lean.Server.instInhabitedRequestError","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L22-L22","name":"Lean.Server.RequestError.message","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestError.message","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L21-L21","name":"Lean.Server.RequestError.code","kind":"def","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestError.code","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L20-L23","name":"Lean.Server.RequestError","kind":"structure","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestError","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L1-L1","name":"Lean.Server.RequestError.mk","kind":"ctor","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestError.mk","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L1-L1","name":"Lean.Server.RequestHandler.mk","kind":"ctor","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestHandler.mk","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/3f6c5f17db30c2a2dcaca1b9e9faec4e2cf04b95/src/Lean/Server/Requests.lean#L1-L1","name":"Lean.Server.RequestContext.mk","kind":"ctor","docLink":"./Lean/Server/Requests.html#Lean.Server.RequestContext.mk","doc":""}]}